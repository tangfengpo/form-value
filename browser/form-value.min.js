function val(...e){let a,r=null,t="json";if(0===e.length)throw new Error("The function needs at least 1 argument, but is given 0");if(e.length>=1){if(!(e[0]instanceof HTMLFormElement&&"FORM"===e[0].nodeName))throw new Error("param 1 must be a form element.");a=e[0]}if(e.length>=2)if("[object Object]"===Object.prototype.toString.call(e[1])||"[object DOMStringMap]"===Object.prototype.toString.call(e[1]))r=e[1];else{if("string"!=typeof e[1]||!["json","querystring","formdata"].includes(e[1]))throw new Error("param 2 must be an object or a string of json,querystring,formdata");t=e[1]}if(null===r){if("formdata"===t)return new FormData(a);let e={};if(Array.from(a.querySelectorAll("[name]")).forEach(a=>{switch(a.type){case"text":case"password":case"color":case"date":case"time":case"datetime-local":case"email":case"hidden":case"month":case"number":case"tel":case"range":case"url":case"week":case"search":case"textarea":case"select-one":a.value&&(e[a.name]=a.value);break;case"radio":a.value&&a.checked&&(e[a.name]=a.value);break;case"checkbox":a.value&&a.checked&&(e[a.name]?e[a.name].push(a.value):e[a.name]=[a.value]);break;case"select-multiple":Array.from(a.querySelectorAll("option")).forEach(r=>{r.selected&&(e[a.name]?e[a.name].push(r.value):e[a.name]=[r.value])})}}),"json"===t)return e;if("querystring"===t){let a=[];for(let r in e)"string"==typeof e[r]?a.push(`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`):Array.isArray(e[r])&&e[r].forEach(e=>{a.push(`${encodeURIComponent(r)}=${encodeURIComponent(e)}`)});return a.join("&")}}else for(let e in r){let t=Array.from(a.querySelectorAll(`[name=${e}]`)),o=t[0].type||"text";if(0!==t.length&&"file"!==o)if(1===t.length)if("checkbox"===o||"radio"===o)(t[0].value===r[e]||Array.isArray(r[e])&&r[e].includes(t[0].value))&&(t[0].checked=!0);else if("select-multiple"===o){Array.from(t[0].querySelectorAll("option")).forEach(a=>{r[e]instanceof Array&&r[e].includes(a.value)?a.selected=!0:"string"==typeof r[e]&&a.value==r[e]&&(a.selected=!0)})}else t[0].value=r[e];else"radio"===o?t.forEach(a=>{a.value==r[e]&&(a.checked=!0)}):"checkbox"===o?t.forEach(a=>{r[e]instanceof Array&&r[e].includes(a.value)?a.checked=!0:"string"==typeof r[e]&&r[e]==a.value&&(a.checked=!0)}):t.forEach(a=>{a.value=r[e]})}}